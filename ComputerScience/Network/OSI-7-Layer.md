# OSI 7 계층


- 네트워크 통신을 이해하고 설계하기 위해 만들어진 개념적 모델임.
- 네트워크에 필요한 프로토콜 기능들을 7계층을 나누어 유연성과 확장성이 높은 시스템을 구축할 수 있음.
  - 어느 한곳에 이상이 생겼을 때 그 부분만 수정하면 되고, 데이터가 오가는 과정을 단계별로 알 수 있음.

## 1) 물리 계층(Physical)

- **데이터를 전송**하기 위한 물리적인 매체, 데이터를 전송하는 역할만 진행함.
- `리피터, 케이블, 허브`
    - 허브
        - 더미 허브를 가리킴.
        - 인터넷 선이나 USB 연결하는 부분 생각하면 됨.

## 2) 데이터 링크 계층(Data Link)

- **물리 계층으로 송수신 되는 정보를 관리 및 안전하게 전달**
- **동일한 네트워크 간의 데이터 전송을 용이**하게 함.
- **Mac 주소**를 이용해서 **데이터의 출발지와 목적지를 설정**함.
  <details>
    <summary>Mac 주소란?</summary>
    <div markdown="1">
    
        - 네트워크에 붙는 각 장비들은 48 bit의 주소를 갖게 됨. 이 주소는 컴퓨터의 하드웨어의랜카드 또는 네트워크 장비에 이미 고정되어 있는 주소이고 유일한 주소임. 이 주소가 바로 Mac 주소임.
  </details>

- **프레임에 Mac 주소를 부여**하고 **에러 검출, 재전송, 흐름제어**를 진행함.
    - **에러 검출** : 전송된 데이터에 오류가 있는지 확인함.
        - 패리티 비트(Parity Bit), 체크섬(Checksum), 순환 중복 검사(CRC)
    - **재전송** : 에러 검출 과정에서 오류가 발견되면 데이터를 다시 전송함.
        - 자동 재전송 요청(ARQ) : Stop-and-Wait ARQ, Go-Back-N ARQ, Selective Repeat ARQ
    - **흐름제어** : 송신 측이 수신 측의 처리 능력을 초과하지 않도록 데이터를 조절함.
        - 정지-대기(Stop-and-Wait) : 한번에 하나의 프레임 전송
        - 슬라이딩 윈도우(Sliding window) : 여러 프레임 연속적 전송 가능하도록 윈도우 크기 설정
- `브릿지, 스위치`

## 3) 네트워크 계층(Network)

- **데이터를 목적지까지 가장 안전하고 빠르게 전달**하는 기능 담당
- **서로 다른 두 네트워크 간의 데이터 전송을 용이**하게 함.
- **라우터를 통해 이동할 경로를 선택(라우팅)해서 IP 주소 지정 및 해당 경로에 따라 패킷 전달**
    <details>
    <summary>라우팅? 라우터?</summary>
    <div markdown="1">
    
        1) 라우팅
        - 네트워크 내에서 데이터 패킷을 목적지까지 전달하는 과정.
        - 데이터가 표적에 도달하기 위한 최상의 물리적 경로를 찾는 것.
        
        2) 라우터
        - 서로 다른 네트워크를 연결해주는 장치.
        - 데이터 패킷 전달, 네트워크 연결, 트래픽 관리등의 역할을 하는 네트워크 계층에서 사용하는 네트워크 장비.
    </details>
        

- **라우팅, 흐름제어, 오류제어, 세그먼테이션** 등을 수행한다.
    - 데이터링크 계층에서의 흐름 제어와 오류제어랑은 다름.
        - 흐름제어 : 패킷의 전달 경로 선택 및 관리가 주 목적임.
        - 오류제어 : 데이터 링크 계층에서 이미 처리된 오류 검출 및 수정작업 보완함. 패킷이 올바르게 전달되었는지 확인함.
    - 세그먼테이션 : 데이터를 작은 단위로 나누는 과정(한번에 보내는 것보다 나눠서 보내는것이 효율적!)
- `라우터, IP`
    - IP : 컴퓨터 네트워크에서 장치들이 서로 인식하고 통신하기 위해 사용하는 주소.

## 4) 전송계층(Transport)

- 두 기기간의 종단 간 통신을 담당하고 데이터의 전달을 신뢰성있게 관리함.
- TCP/UDP 프로토콜을 이용해 데이터가 잘 도착했는지 확인하고 재전송함.
- `TCP, UDP`
    <details>
    <summary>TCP vs UDP</summary>
    <div markdown="1">

      TCP : 연결형 서비스로 신뢰성을 보장한다. 연속성보다는 신뢰성 있는 전송이 중요할때 사용한다. ex) 파일 전송

      UDP :  비연결형 서비스로 신뢰성 보장 낮음. 정보를 주고받을 때 정보를 보내거나 받는다는 신호 절차를 거치지 않기 때문에 속도가 빠르다. 그러므로 신뢰성 보다는 연속성이 중요한 서비스에 사용한다. ex) 실시간 서비스

    </details>

| 프로토콜 | TCP | UDP |
| --- | --- | --- |
| 연결 방식 | 연결형 서비스
(패킷 교환 방식)  | 비연결형 서비스
(데이터 그램 방식) |
| 전송 순서 | 전송 순서 보장 | 전송 순서가 바뀔 수 있음 |
| 수신 여부 확인 | 수신 여부 확인 | 수신 여부 확인 X |
| 통신 방식 | 1:1 통신 | 1:1 or 1:N or N:N 통신 |
| 신뢰성 | 높음. | 낮음. |
| 속도 | 느림 | 빠름 |    


        

## 5) 세션(Session)

- 두 기기 사이의 통신을 시작하고 종료하는 일을 담당함.
    - 세션이란? 통신이 시작될 때부터 종료될 때까지의 시간.
- TCP/ IP 세션을 만들고 없애는 책임을 지니고 있음.
- `API, Socket`

## 6) 표현(Presentation)

- 주로 데이터를 준비하며 응용 계층이 이를 사용할 수 있도록 함.
- 데이터의 변환, 암호화, 압축을 담당함.
    - 통신 장치 간에 다른 인코딩 방법을 사용할 시, 수신 장치의 응용 계층이 이해할 수 있는 구문으로 수신데이터 변환
    - 응용 계층에서 수신한 데이터를 세션 계층으로 전송하기 전에 압축.
        - 전송 데이터 양 최소화 → 통신의 속도와 효율 높임.
- `JPEG, MPEG 등`

## 7) 응용(Application)

- 네트워크 통신의 최종 목적지.
- 사용자의 데이터와 직접 상호 작용하며 일반적인 응용 서비스를 수행함.
- 사용자 인터페이스, 전자우편, 데이터베이스 관리 등의 서비스 제공
- `HTTP, FTP, DNS 등`